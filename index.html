



    <!doctype html>
    <html>
    <head>
    <title>TT bookmarklets</title>
    <meta name="description" content="Yup">
    <meta name="keywords" content="bookmarklet">
    </head>
    <body>

<br><br>

<a href="javascript:(function()%7Bfunction%20fromGetCourseNum()%7B%0A%20%20%2F%2F%20get%20course%20numbers.%20afaik%20this%20is%20a%20brightspace%20thing...%0A%20%20window.coursenums%20%3D%20%5B%5D%3B%0A%20%20window.classmates%20%3D%20%7B%7D%3B%0A%20%20%0A%20%20for(const%20el%20of%20document.getElementsByClassName(%22vui-list%22)%5B0%5D.children)%7B%0A%20%20%0A%20%20%20%20let%20name%20%3D%20el.children%5B0%5D.children%5B0%5D.children%5B0%5D.children%5B0%5D.innerHTML%3B%0A%20%20%20%20if(%20name.startsWith(%22Summer%202023%22))%7B%0A%20%20%20%20%20%20var%20link%20%3D%20el.children%5B0%5D.children%5B0%5D.children%5B0%5D.children%5B0%5D.href.split(%22%2F%22)%3B%0A%20%20%20%20%20%20var%20coursenum%20%3D%20link%5Blink.length-1%5D%3B%0A%20%20%20%20%20%20window.coursenums.push(coursenum)%3B%0A%20%20%0A%20%20%20%20%20%20addIframe(coursenum%2C%20name)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%7D%0A%0Afunction%20resizeIFrameToFitContent(%20iFrame%20)%20%7B%0A%0A%20%20%2F%2F%20%20iFrame.width%20%20%3D%20iFrame.contentWindow.document.body.scrollWidth%3B%0A%20%20%20%20iFrame.height%20%3D%20iFrame.contentWindow.document.body.scrollHeight%3B%0A%7D%0A%0A%0A%0Afunction%20addIframe(coursenum%2C%20name%20)%7B%0A%0A%20%20%2F%2F%20make%20iframe%20for%20working%20with%20other%20pages%0A%20%20let%20title%20%3D%20document.createElement(%22div%22)%3B%0A%20%20title.innerHTML%20%3D%20name%20%3B%0A%20%20document.body.append(title)%3B%0A%0A%20%20window.ifr%20%3D%20document.createElement(%22iframe%22)%3B%0A%20%20document.body.append(window.ifr)%3B%0A%20%20window.ifr.width%20%3D%20window.innerWidth-20%3B%0A%20%2F%2F%20window.ifr.height%20%3D%20window.innerHeight-10%3B%0A%20%2F%2F%20window.scrollTo(0%2Cdocument.body.scrollHeight)%3B%0A%20%20%0A%20%20window.classesToSearch%20%3D%20%5B...window.coursenums%5D%3B%0A%20%20%2F%2F%20use%3A%0A%20%20%2F%2F%20window.ifr.src%20%3D%20%22url%22%3B%0A%20%20%2F%2F%20window.ifr.onload%20%3D%20...%0A%0A%20%2F%2F%20set%20iframe%20size%20based%20on%20content%0A%20%20let%20thisifr%20%3D%20window.ifr%3B%0A%20%20window.ifr.onload%20%3D%20()%3D%3E%7B%20%0A%09%09%09setTimeout(%20%0A%09%09%09%09()%3D%3E%7B%20resizeIFrameToFitContent(%20thisifr%20)%3B%20%7D%2C%0A%09%09%09%09200)%3B%20%7D%20%3B%0A%0A%20%2F%2F%20load%20grades%0A%20%20window.ifr.src%20%3D%20%22https%3A%2F%2Fbright.uvic.ca%2Fd2l%2Flms%2Fgrades%2Fmy_grades%2Fmain.d2l%3Fou%3D%22%20%2B%20coursenum%3B%0A%0A%7D%0A%0A%2F%2F%20start%20script%20%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%0A%0A%2F%2Fopen%20dropdown%0A%0A%2F%2F%20TODO%20needs%20time%20for%20load%0A%2F%2F%20document.getElementsByClassName(%22d2l-navigation-s-course-menu%22)%5B0%5D.children%5B0%5D.openDropdown()%0A%2F%2F%20setTimeout(fromGetCourseNum%2C1000)%3B%0A%0A%2F%2F%20It%20doesn't%20need%20to%20be%20open%2C%20just%20loaded%2C%20which%20I%20don't%20know%20how%20to%20do...%20wtf%0A%0Alists%20%3D%20document.getElementsByClassName(%22vui-list%22)%3B%0A%0Aif%20(lists.length%20%3E%200%20%0A%20%20%20%20%26%26%20lists%5B0%5D.className%20%3D%3D%20%22d2l-datalist%20vui-list%22%20%0A%20%20%20)%7B%0A%20%20%2F%2F%20awesome%0A%20%20%2F%2F%20get%20rid%20of%20old%20content%0A%20%20document.getElementsByClassName(%22d2l-page-main%22)%5B0%5D.remove()%0A%20%20%2F%2F%20get%20new%20content%0A%20%20fromGetCourseNum()%3B%0A%7Delse%7B%0A%20%20%20alert(%22Please%20click%20the%203x3%20grid%20menu%20button%20before%20running%20this%20script.%22)%3B%0A%7D%7D)()%3B">
	Get all grades
</a>


      
    </body>
    </html>
