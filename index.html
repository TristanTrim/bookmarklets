



    <!doctype html>
    <html>
    <head>
    <title>TT bookmarklets</title>
    <meta name="description" content="Yup">
    <meta name="keywords" content="bookmarklet">
    </head>
    <body>

<br><br>


      <a href='    javascript:(function() {


function fromGetCourseNum(){
  
  window.coursenums = [];
  window.classmates = {};
  
  for(const el of document.getElementsByClassName("vui-list")[0].children){
  
    let name = el.children[0].children[0].children[0].children[0].innerHTML;
    if( name.startsWith("Summer 2023")){
      var link = el.children[0].children[0].children[0].children[0].href.split("/");
      var coursenum = link[link.length-1];
      window.coursenums.push(coursenum);
  
      addIframe(coursenum, name);
    }
  }

}

function resizeIFrameToFitContent( iFrame ) {

  
    iFrame.height = iFrame.contentWindow.document.body.scrollHeight;
}



function addIframe(coursenum, name ){

  
  let title = document.createElement("div");
  title.innerHTML = name ;
  document.body.append(title);

  window.ifr = document.createElement("iframe");
  document.body.append(window.ifr);
  window.ifr.width = window.innerWidth-20;
 
 
  
  window.classesToSearch = [...window.coursenums];
  
  
  

 
  let thisifr = window.ifr;
  window.ifr.onload = ()=>{ 
			setTimeout( 
				()=>{ resizeIFrameToFitContent( thisifr ); },
				200); } ;

 
  window.ifr.src = "https://bright.uvic.ca/d2l/lms/grades/my_grades/main.d2l?ou=" + coursenum;

}











lists = document.getElementsByClassName("vui-list");
if (lists.length > 0){
  
  
  document.getElementsByClassName("d2l-page-main")[0].remove()
  
  fromGetCourseNum();
}else{
 alert("Please click the 3x3 grid menu button before running this script.");
}

        
          })();       '>Show Grades</a>


      
    </body>
    </html>
